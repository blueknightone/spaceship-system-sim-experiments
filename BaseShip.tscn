[gd_scene load_steps=4 format=2]

[ext_resource path="res://Scripts/Ships/ShipSystems/ShipSystemController.cs" type="Script" id=1]
[ext_resource path="res://Scripts/Ships/ShipSystems/ElectricalSystems/Batteries/ShipBattery.cs" type="Script" id=2]
[ext_resource path="res://Scripts/UI/ShipBatteryReadout.cs" type="Script" id=3]

[node name="Ship" type="Node"]

[node name="ShipSystemController" type="Node" parent="."]
script = ExtResource( 1 )

[node name="Battery" type="Node" parent="ShipSystemController"]
script = ExtResource( 2 )

[node name="SystemControls" type="VBoxContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ShipBatteryToggle" type="HBoxContainer" parent="SystemControls"]
margin_right = 1024.0
margin_bottom = 40.0
size_flags_horizontal = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="CheckButton" type="CheckButton" parent="SystemControls/ShipBatteryToggle"]
margin_right = 76.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="SystemControls/ShipBatteryToggle"]
margin_left = 80.0
margin_top = 13.0
margin_right = 138.0
margin_bottom = 27.0
text = "Battery 1"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ShipBatteryReadout" type="HBoxContainer" parent="SystemControls"]
margin_top = 44.0
margin_right = 1024.0
margin_bottom = 69.0
size_flags_horizontal = 3
custom_constants/separation = 5
script = ExtResource( 3 )
indicatorPath = NodePath("ColorRect")
readoutPath = NodePath("Readout")

[node name="ColorRect" type="ColorRect" parent="SystemControls/ShipBatteryReadout"]
margin_right = 25.0
margin_bottom = 25.0
rect_min_size = Vector2( 25, 25 )
color = Color( 1, 0, 0, 1 )

[node name="Readout" type="Label" parent="SystemControls/ShipBatteryReadout"]
margin_left = 30.0
margin_top = -1.0
margin_right = 130.0
margin_bottom = 24.0
rect_min_size = Vector2( 100, 25 )
text = "0123456789"
align = 1
valign = 1
[connection signal="SystemActivatedSignal" from="ShipSystemController/Battery" to="SystemControls/ShipBatteryReadout" method="UpdateSystemReadout"]
[connection signal="SystemDeactivatedSignal" from="ShipSystemController/Battery" to="SystemControls/ShipBatteryReadout" method="UpdateSystemReadout"]
[connection signal="toggled" from="SystemControls/ShipBatteryToggle/CheckButton" to="ShipSystemController/Battery" method="ToggleSystem"]
